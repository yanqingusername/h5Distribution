{"remainingRequest":"/Users/user/coyote/h5Distribution/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/coyote/h5Distribution/src/pages/instrumentList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/coyote/h5Distribution/src/pages/instrumentList.vue","mtime":1656313580782},{"path":"/Users/user/coyote/h5Distribution/node_modules/cache-loader/dist/cjs.js","mtime":1652332326496},{"path":"/Users/user/coyote/h5Distribution/node_modules/babel-loader/lib/index.js","mtime":1652332326384},{"path":"/Users/user/coyote/h5Distribution/node_modules/cache-loader/dist/cjs.js","mtime":1652332326496},{"path":"/Users/user/coyote/h5Distribution/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1652332325883}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9oZWFkZXIudnVlIjsKaW1wb3J0IHsgZ2V0SlNTREtIRUxQLGdldENvbnZleUxpc3QsY29udmV5U2NhbixnZXRDaGVja2VkVXNlcklkIH0gZnJvbSAiLi4vcmVxdWVzdC9hcGkiOwppbXBvcnQgeyBOb3RpZnksVG9hc3QsTGlzdCxCdXR0b24sRGlhbG9nIH0gZnJvbSAidmFudCI7CmltcG9ydCB3eCBmcm9tICdqd2VpeGluLW1vZHVsZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiIiwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgICBbRGlhbG9nLkNvbXBvbmVudC5uYW1lXTogRGlhbG9nLkNvbXBvbmVudCwgLy9EaWFsb2cuQ29tcG9uZW505YaZ5oiQ6L+Z5qC35omN55Sf5pWICiAgICBbQnV0dG9uLm5hbWVdOiBCdXR0b24sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZTogMSwgLy/nrKzlh6DpobUKICAgICAgbGltaXQ6IDMwLCAvL+avj+mhtemZkOWItgogICAgICBpbnN0cnVtZW50TGlzdDogW10sCiAgICAgIGlzRm9jdXM6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICByZWZyZXNoaW5nOiBmYWxzZSwKICAgICAgcm9sZUlkOiAxLCAgCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGJpbmRJbmZvOicnLAogICAgICBpc0lucHV0OiBmYWxzZSwKICAgICAgYm94Q29kZU51bWJlcjogJycsCiAgICAgIHJvbGVOYW1lOicnLAogICAgICB1c2VySWQ6ICcnLAogICAgICBrZXl3b3JkVmFsdWU6ICIiLAogICAgICBjdXJyZW50RGF0ZVRleHQ6ICcnLAogICAgICBjdXJyZW50RGF0ZTogbmV3IERhdGUoKSwKICAgICAgbWF4RGF0ZTogbmV3IERhdGUoKSwKICAgICAgaXNTaG93RGF0ZVRpbWU6IGZhbHNlLAogICAgfTsKICB9LAogIGFjdGl2YXRlZCgpIHsKICAgIHRoaXMucm9sZUlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICB0aGlzLnJvbGVOYW1lID0gdGhpcy4kcm91dGUucXVlcnkubmFtZTsKICAgIHRoaXMudXNlcklkID0gdGhpcy4kcm91dGUucXVlcnkudXNlcklkOwogICAgY29uc29sZS5sb2codGhpcy5yb2xlSWQpCiAgICBjb25zb2xlLmxvZyh0aGlzLnJvbGVOYW1lKQogICAgY29uc29sZS5sb2codGhpcy51c2VySWQpCgogICAgdGhpcy5jdXJyZW50RGF0ZVRleHQgPSB0aGlzLnRpbWVGb3JtYXQxKHRoaXMuY3VycmVudERhdGUpOwoKICAgIHRoaXMucGFnZSA9IDE7CiAgICB0aGlzLmluc3RydW1lbnRMaXN0ID0gW107CiAgICB0aGlzLmdldENoZWNrZWRVc2VySWQoMSk7CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pc1dlY2hhdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2tQREYoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL2luc3RydW1lbnRQREYiCiAgICAgIH0pOwogICAgICByZXR1cm47CiAgICB9LAogICAgZ2V0Q2hlY2tlZFVzZXJJZCh0eXBlTnVtYmVyKXsKICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgZ2V0Q2hlY2tlZFVzZXJJZCh7CiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkCiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgICBpZih0eXBlTnVtYmVyID09IDEpewogICAgICAgICAgICAgIHRoYXQuZ2V0Q29udmV5TGlzdCgpOwogICAgICAgICAgICB9ZWxzZSBpZih0eXBlTnVtYmVyID09IDIpewogICAgICAgICAgICAgIHRoYXQuZ2V0U2NhblFSQ29kZUNsaWNrKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZU51bWJlciA9PSAzKXsKICAgICAgICAgICAgICB0aGF0LmlzSW5wdXQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgICAgVG9hc3QocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgIHRoYXQuJHJvdXRlci5iYWNrKCk7CiAgICAgICAgICAgIH0sMTIwMCkKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBpc1dlY2hhdCgpIHsKICAgICAgY29uc3QgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogICAgICBpZiAodWEubWF0Y2goL21pY3JvbWVzc2VuZ2VyL2kpID09ICdtaWNyb21lc3NlbmdlcicpIHsKICAgICAgICAvLyByZXR1cm4gdHJ1ZTsKICAgICAgICBjb25zb2xlLmxvZygn5b6u5L+h5rWP6KeI5ZmoJyk7CiAgICAgICAgdGhpcy5zY2FuUVJKc3NkaygpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCfmma7pgJrmtY/op4jlmags6K+35Zyo5omL5py65b6u5L+h5rWP6KeI5Zmo5omT5byA5q2k6aG16Z2iJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy8g5Yid5aeL5YyWc2Rr6YWN572uCiAgICBhc3luYyBzY2FuUVJKc3NkaygpIHsKICAgICAgLy8gYWxlcnQoYHVybOmTvuaOpToke3dpbmRvdy5sb2NhdGlvbi5ocmVmfWApOwoJICBjb25zdCB1ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgICAgY29uc3QgaXNBbmRyb2lkID0gdS5pbmRleE9mKCdBbmRyb2lkJykgPiAtMSB8fCB1LmluZGV4T2YoJ0xpbnV4JykgPiAtMTsgLy8gQW5kcm9pZAogICAgICBjb25zdCBpc0lPUyA9IG5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKCdpUGhvbmUnKSAhPSAtMTsvL2lvcwogICAgICAgbGV0IHVybCA9ICcnOwogICAgICBpZiAoaXNBbmRyb2lkKSB7CiAgICAgICAgdXJsID0gbG9jYXRpb24uaHJlZjsKICAgICAgfQogICAgICBpZiAoaXNJT1MpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMF07IC8vIGhhc2jmqKHlvI/kuIssI+WQjumdoueahOmDqOWIhuWmguaenOW4puS4imlvc+S4rWNvbmZpZ+S8muS4jeWvuQogICAgICB9CiAgICAgIGNvbnN0IGFwaSA9IFtdOwogICAgICAvLyAncXJDb2RlJywnYmFyQ29kZScKICAgICAgYXBpLnB1c2goJ3FyQ29kZScpOwogICAgICBhcGkucHVzaCgnYmFyQ29kZScpOwogICAgICAvLyBhbGVydCh1cmwpOwogICAgICBjb25zdCByZXNEYXRhID0gYXdhaXQgZ2V0SlNTREtIRUxQKHsgdXJsIH0pOwkvLyDmoLnmja7mjqXlj6Pov5Tlm55hcHBJZO+8jHRpbWVzdGFtcOetieaVsOaNrgogICAgICBjb25zb2xlLmxvZygn6I635Y+W5b6u5L+h6YWN572u57uT5p6cJywgcmVzRGF0YSk7CiAgICAgIGlmIChyZXNEYXRhKSB7CiAgICAgICAgLy8gYWxlcnQoSlNPTi5zdHJpbmdpZnkocmVzRGF0YS5kYXRhKSk7CiAgICAgICAgd3guY29uZmlnKHsKICAgICAgICAgIC8vIGJldGE6IHRydWUsCiAgICAgICAgICBkZWJ1ZzogZmFsc2UsCiAgICAgICAgICBhcHBJZDogcmVzRGF0YS5kYXRhLmFwcElkLAogICAgICAgICAgdGltZXN0YW1wOiByZXNEYXRhLmRhdGEudGltZXN0YW1wLAogICAgICAgICAgbm9uY2VTdHI6IHJlc0RhdGEuZGF0YS5ub25jZVN0ciwKICAgICAgICAgIHNpZ25hdHVyZTogcmVzRGF0YS5kYXRhLnNpZ25hdHVyZSwKICAgICAgICAgIGpzQXBpTGlzdDogWydjaGVja0pzQXBpJywgJ3NjYW5RUkNvZGUnXQogICAgICAgIH0pOwogICAgICAgIHd4LnJlYWR5KCgpID0+IHsKICAgICAgICAgIHd4LmNoZWNrSnNBcGkoewogICAgICAgICAgICBqc0FwaUxpc3Q6IFsnc2NhblFSQ29kZSddLAogICAgICAgICAgICBzdWNjZXNzKHJlcykgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhYWFhJywgcmVzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgd3guZXJyb3IoKHJlcykgPT4gewogICAgICAgICAgYWxlcnQoYOWHuumUmeS6hu+8miR7cmVzLmVyck1zZ31gKTsvLyDov5nkuKrlnLDmlrnnmoTlpb3lpITlsLHmmK93eC5jb25maWfphY3nva7plJnor6/vvIzkvJrlvLnlh7rnqpflj6Plk6rph4zplJnor6/vvIznhLYJCeWQjuagueaNruW+ruS/oeaWh+aho+afpeivouWNs+WPr+OAggogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAvLyDmiavmj48KICAgc2NhblFSQ29kZUNsaWNrKCkgewogICAgIHRoaXMuZ2V0Q2hlY2tlZFVzZXJJZCgyKTsKICAgfSwKICAgIGdldFNjYW5RUkNvZGVDbGljaygpIHsJLy8g54K55Ye755qE5pe25YCZ6LCD6LW35omr5LiA5omr5Yqf6IO95ZGiCiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOwogICAgICB3eC5zY2FuUVJDb2RlKHsKICAgICAgICBuZWVkUmVzdWx0OiAxLCAvLyDpu5jorqTkuLow77yM5omr5o+P57uT5p6c55Sx5b6u5L+h5aSE55CG77yMMeWImeebtOaOpei/lOWbnuaJq+aPj+e7k+aenO+8jAogICAgICAgIHNjYW5UeXBlOiBbJ3FyQ29kZScsICdiYXJDb2RlJ10sIC8vIOWPr+S7peaMh+WumuaJq+S6jOe7tOeggei/mOaYr+S4gOe7tOegge+8jOm7mOiupOS6jOiAhemDveaciQogICAgICAgIHN1Y2Nlc3MocmVzKSB7CiAgICAgICAgICBjb25zdCByZXN1bHRTdHJBcnIgPSByZXMucmVzdWx0U3RyLnNwbGl0KCcsJyk7CQkKICAgICAgICAgIC8vIOi9rOS4uuaVsOe7hOaXtuS4uuS6humBv+WFjeaJq+aPj+S4gOe7tOeggeaYr+i/lOWbnkNPREVfMTI4LDIwMTgwNTI45YmN6Z2i5Lya5re75Yqg5LiA5LiqQ09ERV8xMjjmiYDku6XovazkuLrmlbDnu4TojrcJCeWPluacgOWQjuS4gOadoeWwseihjOS6hgogICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0U3RyQXJyW3Jlc3VsdFN0ckFyci5sZW5ndGggLSAxXSk7IC8vIOi+k+WHuuaJq+eggeS/oeaBrwogICAgICAgICAgdGhhdC5yZXN1bHQgPSByZXN1bHRTdHJBcnJbcmVzdWx0U3RyQXJyLmxlbmd0aCAtIDFdOwogICAgICAgICAgbGV0IGJveENvZGVOdW1iZXIgPSByZXN1bHRTdHJBcnJbcmVzdWx0U3RyQXJyLmxlbmd0aCAtIDFdOwogICAgICAgICAgaWYoYm94Q29kZU51bWJlcil7CiAgICAgICAgICAgIHRoYXQuZ2V0QmluZFNlYXJjaChib3hDb2RlTnVtYmVyKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZhaWwocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgcmVzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICogCiAgICAgKi8KICAgIGdldEJpbmRTZWFyY2goYm94Q29kZU51bWJlcikgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGNvbnZleVNjYW4oewogICAgICAgIGJveF9udW06IGJveENvZGVOdW1iZXIsCiAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZAogICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgdGhhdC5iaW5kSW5mbyA9IHsKICAgICAgICAgICAgYm94X251bTogcmVzLmRhdGEuYm94X251bSwKICAgICAgICAgICAgc3lzdGVtX3N1bTogcmVzLmRhdGEuc3lzdGVtX3N1bSwKICAgICAgICAgICAgY2hhbm5lbF9uYW1lOiByZXMuZGF0YS5jaGFubmVsX25hbWUsCiAgICAgICAgICAgIGlzX3JlY2VpdmU6IHJlcy5kYXRhLmlzX3JlY2VpdmUsCiAgICAgICAgICB9CiAgICAgICAgICB0aGF0LmlzU2hvdyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgVG9hc3QocmVzLmRhdGEubXNnKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlQ2xvc2UoYWN0aW9uLCBkb25lKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgaWYoYWN0aW9uID09PSAnY29uZmlybScpIHsKICAgICAgICB0aGF0LmlzU2hvdyA9IGZhbHNlOwogICAgICAgIHRoYXQucGFnZSA9IDE7CiAgICAgICAgdGhhdC5pbnN0cnVtZW50TGlzdCA9IFtdOwogICAgICAgIHRoYXQuZ2V0Q2hlY2tlZFVzZXJJZCgxKTsKICAgICAgICBkb25lKCkKICAgICAgfSBlbHNlIGlmKGFjdGlvbiA9PT0gJ2NhbmNlbCcpIHsKICAgICAgICB0aGF0LmJpbmRJbmZvID0gJyc7CiAgICAgICAgdGhhdC5pc1Nob3cgPSBmYWxzZTsKICAgICAgICBkb25lKCkgLy/lhbPpl60KICAgICAgfQogICAgfSwKICAgIGhhbmRsZVRpdGxlQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmJhY2soKTsKICAgIH0sCiAgICBnZXRDb252ZXlMaXN0KCkgewogICAgICBpZiAodGhpcy5yZWZyZXNoaW5nKSB7CiAgICAgICAgICB0aGlzLnJlZnJlc2hpbmcgPSBmYWxzZTsKICAgICAgICB9CgogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGdldENvbnZleUxpc3QoewogICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICBsaW1pdDogdGhpcy5saW1pdCwKICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICBsZXQgaW5zdHJ1bWVudExpc3QgPSB0aGF0Lmluc3RydW1lbnRMaXN0OwoJCQkJCWluc3RydW1lbnRMaXN0ID0gdGhhdC5wYWdlID09IDEgPyByZXMuZGF0YS5tc2cgOiBpbnN0cnVtZW50TGlzdC5jb25jYXQocmVzLmRhdGEubXNnKQoKICAgICAgICAgIHRoYXQubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIGlmKHJlcyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5tc2cubGVuZ3RoID4gMCl7CiAgICAgICAgICAgIHRoYXQucGFnZSA9IHRoYXQucGFnZSArIDE7CiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgIHRoYXQuZmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICB0aGF0Lmluc3RydW1lbnRMaXN0ID0gaW5zdHJ1bWVudExpc3Q7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgVG9hc3QocmVzLmRhdGEubXNnKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlSW5wdXQoKSB7CiAgICAgIC8v5Y2V5Ye75pCc57Si5qGG5pe26I635Y+W54Sm54K5CiAgICAgIHRoaXMuaXNGb2N1cyA9IHRydWU7CiAgICB9LAogICAgY2xlYXJTZWFyY2hWYWx1ZSgpIHsKICAgICAgLy/muIXnqbrovpPlhaXnmoTmn6Xor6LmnaHku7YKICAgICAgaWYgKHRoaXMua2V5d29yZFZhbHVlKSB7CiAgICAgICAgdGhpcy5rZXl3b3JkVmFsdWUgPSAiIjsgLy/mkJzntKLlhbPplK7lrZcKICAgICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICAgIHRoaXMuaW5zdHJ1bWVudExpc3QgPSBbXTsKICAgICAgICB0aGlzLmdldENoZWNrZWRVc2VySWQoMSk7CiAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2hJbnB1dC5mb2N1cygpOyAvL+i+k+WFpeafpeivouadoeS7tua4heepuuWQjuiOt+WPlueEpueCuQogICAgICB9CiAgICB9LAogICAgY2xpY2tTZWFyY2goKSB7CiAgICAgIC8v5p+l6K+iCiAgICAgIGlmIChldmVudC5jb2RlID09ICJBcnJvd0Rvd24iIHx8IGV2ZW50LmNvZGUgPT0gIkFycm93VXAiKSB7CiAgICAgICAgLy/kuIrkuIvplK4KICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8gaWYgKHRoaXMua2V5d29yZFZhbHVlLnRyaW0oKSkgewogICAgICAgICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICAgICAgICB0aGlzLmluc3RydW1lbnRMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMuZ2V0Q2hlY2tlZFVzZXJJZCgxKTsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnNlYXJjaElucHV0LmZvY3VzKCk7IC8v5rKh5pyJ6L6T5YWl5p+l6K+i5p2h5Lu254Sm54K55LiN5bqU6K+l5aSx5Y67CiAgICAgIC8vIH0KICAgIH0sCiAgICBvbkRvd25Mb2FkKCl7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFnZSkKICAgICAgaWYodGhpcy5wYWdlID4gMSl7CiAgICAgICAgdGhpcy5nZXRDaGVja2VkVXNlcklkKDEpOwogICAgICB9CiAgICB9LAogICAgb25SZWZyZXNoKCl7CiAgICAgIC8vIOa4heepuuWIl+ihqOaVsOaNrgogICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7CiAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgIHRoaXMuaW5zdHJ1bWVudExpc3QgPSBbXTsKICAgICAgLy8g6YeN5paw5Yqg6L295pWw5o2uCiAgICAgIC8vIOWwhiBsb2FkaW5nIOiuvue9ruS4uiB0cnVl77yM6KGo56S65aSE5LqO5Yqg6L2954q25oCBCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZ2V0Q2hlY2tlZFVzZXJJZCgxKTsKICAgIH0sCiAgICBpbnB1dENsaWNrKCl7CiAgICAgIHRoaXMuZ2V0Q2hlY2tlZFVzZXJJZCgzKTsKICAgIH0sCiAgICBiZWZvcmVDbG9zZTEoYWN0aW9uLCBkb25lKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgCiAgICAgICAgaWYoYWN0aW9uID09PSAnY29uZmlybScpIHsKICAgICAgICAgIGlmKHRoYXQuYm94Q29kZU51bWJlcil7CiAgICAgICAgICAgIGNvbnZleVNjYW4oewogICAgICAgICAgICAgIGJveF9udW06IHRoYXQuYm94Q29kZU51bWJlciwKICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGF0LmlzSW5wdXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoYXQuYm94Q29kZU51bWJlciA9ICIiOwogICAgICAgICAgICAgICAgZG9uZSgpOwoKICAgICAgICAgICAgICAgIHRoYXQuYmluZEluZm8gPSB7CiAgICAgICAgICAgICAgICAgIGJveF9udW06IHJlcy5kYXRhLmJveF9udW0sCiAgICAgICAgICAgICAgICAgIHN5c3RlbV9zdW06IHJlcy5kYXRhLnN5c3RlbV9zdW0sCiAgICAgICAgICAgICAgICAgIGNoYW5uZWxfbmFtZTogcmVzLmRhdGEuY2hhbm5lbF9uYW1lLAogICAgICAgICAgICAgICAgICBpc19yZWNlaXZlOiByZXMuZGF0YS5pc19yZWNlaXZlLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhhdC5pc1Nob3cgPSB0cnVlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIFRvYXN0KHJlcy5kYXRhLm1zZykKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUoZmFsc2UpOy8v6Zi75q2i5YWz6ZetCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICBUb2FzdCgn6K+36L6T5YWl566x56CB5Y+3JykKICAgICAgICAgICAgcmV0dXJuIGRvbmUoZmFsc2UpOy8v6Zi75q2i5YWz6ZetCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmKGFjdGlvbiA9PT0gJ2NhbmNlbCcpIHsKICAgICAgICAgIHRoYXQuYmluZEluZm8gPSAnJzsKICAgICAgICAgIHRoYXQuYm94Q29kZU51bWJlciA9ICIiOwogICAgICAgICAgdGhhdC5pc0lucHV0ID0gZmFsc2U7CiAgICAgICAgICBkb25lKCkgLy/lhbPpl60KICAgICAgICB9CiAgICAgIAogICAgfSwKICAgIG9uU2VhcmNoKCkgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMua2V5d29yZFZhbHVlKQogICAgICAgIAogICAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgICAgdGhpcy5pbnN0cnVtZW50TGlzdCA9IFtdOwogICAgICAgIHRoaXMuZ2V0Q2hlY2tlZFVzZXJJZCgxKTsKICAgIH0sCiAgICBjbGlja0RhdGVUaW1lKCl7CiAgICAgIHRoaXMuaXNTaG93RGF0ZVRpbWUgPSB0cnVlOwogICAgfSwKICAgIGRhdGVUaW1lQ2FuY2VsKCl7CiAgICAgIHRoaXMuaXNTaG93RGF0ZVRpbWUgPSBmYWxzZTsKICAgIH0sCiAgICBkYXRlVGltZUNvbmZpcm0oKXsKICAgICAgdGhpcy5jdXJyZW50RGF0ZVRleHQgPSB0aGlzLnRpbWVGb3JtYXQxKHRoaXMuY3VycmVudERhdGUpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnREYXRlVGV4dCkKICAgICAgdGhpcy5pc1Nob3dEYXRlVGltZSA9IGZhbHNlOwoKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgdGhpcy5pbnN0cnVtZW50TGlzdCA9IFtdOwogICAgICB0aGlzLmdldENoZWNrZWRVc2VySWQoMSk7CiAgICB9LAogICAgdGltZUZvcm1hdDEodGltZSkgeyAvLyDml7bpl7TmoLzlvI/ljJYgMjAxOS0wOS0wOAogICAgwqBsZXQgeWVhciA9IHRpbWUuZ2V0RnVsbFllYXIoKTsKICAgIMKgbGV0IG1vbnRoID0gdGltZS5nZXRNb250aCgpICsgMTsKICAgICAgaWYobW9udGg8MTApewogICAgICAgIG1vbnRoID0gJzAnK21vbnRoOwogICAgICB9CiAgICDCoGxldCBkYXkgPSB0aW1lLmdldERhdGUoKTsKICAgICAgaWYoZGF5PDEwKXsKICAgICAgICBkYXkgPSAnMCcrZGF5OwogICAgICB9CgogICAgcmV0dXJuIHllYXIgKyAnLScgKyBtb250aCArICctJyArIGRheSArICcnOwogICAgwqB9LAogICAgY2xpY2tXYWl0KCl7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICIvd2FpdERpc3RyaWJ1dGlvbiIsCiAgICAgICAgICAgICAgICBxdWVyeTp7aWQ6IHRoaXMucm9sZUlkLG5hbWU6IHRoaXMucm9sZU5hbWUsdXNlcklkOiB0aGlzLnVzZXJJZH0KICAgICAgICAgICAgfSk7CiAgICB9LAogICAgY2xpY2tUdWJlSW5mbyhib3hudW0pewogICAgICBjb25zb2xlLmxvZygnLS0tLT46Jyxib3hudW0pCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3R1YmVJbmZvIiwKICAgICAgICBxdWVyeTp7aWQ6IHRoaXMucm9sZUlkLG5hbWU6IHRoaXMucm9sZU5hbWUsdXNlcklkOiB0aGlzLnVzZXJJZCxib3hudW06IGJveG51bX0KICAgICAgfSk7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["instrumentList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"instrumentList.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"child-section\">\n    <!-- <Header>\n      <div class=\"header-content\">\n        <div class=\"header-title\">采样管收集管理</div>\n        <div class=\"header-back\">\n          <div class=\"back\" @click=\"handleTitleBack\">\n            <i class=\"iconfont icon-arrowthin\" style=\"color: #999999;\"></i>\n          </div>\n        </div>\n      </div>\n    </Header> -->\n    <div class=\"main\">\n      <!-- <div class=\"seach-form-item\">\n        <img style=\"width:18px;height:18px;\" src=\"../assets/images/search.png\" alt=\"\" />\n        <input\n          v-model=\"keywordValue\"\n          type=\"text\"\n          name=\"keywordValue\"\n          placeholder=\"请输入仪器序列号\"\n          autocomplete=\"off\"\n          autocorrect=\"off\"\n          autocapitalize=\"off\"\n          autofocus\n          ref=\"searchInput\"\n          spellcheck=\"false\"\n          @click=\"changeInput\"\n          @keyup=\"clickSearch\"\n        />\n        <img v-if=\"keywordValue\" @click=\"clearSearchValue\" style=\"width:18px;height:18px;position:absolute;right:15px;\" src=\"../assets/images/deleteTest.png\" alt=\"\" />\n      </div> -->\n      <div class=\"dis_setting_view\" style=\"background:#FFFFFF;\">\n        <form action=\"/\" style=\"width:100%;\">\n          <van-search\n            v-model=\"keywordValue\"\n            show-action\n            placeholder=\"请输入箱码\"\n            @search=\"onSearch\"\n          >\n          <template #action>\n            <div @click=\"onSearch\">搜索</div>\n          </template>\n          </van-search>\n        </form>\n      </div>\n\n      <!-- 暂时注释 -->\n      <!-- <div class=\"dis_item_center\">\n        <div class=\"dis_item_center_1\" @click=\"clickDateTime\">\n          <div class=\"dis_item_center_2\">日期: {{currentDateText}}</div>\n          <van-icon name=\"arrow-down\" size=\"16\"/>\n        </div>\n        <div class=\"item_center\" @click.stop=\"clickPDF\">样本箱转运系统使用说明</div>\n      </div> -->\n\n      <div class=\"dis_item_center\">\n        <div class=\"dis_item_center_1\" @click=\"clickDateTime\">\n          <div class=\"dis_item_center_2\">日期: {{currentDateText}}</div>\n          <van-icon name=\"arrow-down\" size=\"16\"/>\n        </div>\n        <div class=\"item_center\" @click.stop=\"clickWait\">待转运箱</div>\n      </div>\n\n<div class=\"dis_item_center\">\n      <div class=\"item_center_new\" @click.stop=\"clickPDF\">样本箱转运系统使用说明</div>\n      </div>\n\n       <div class=\"search-list-role\">\n          <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\n          <van-list\n          v-model=\"loading\"\n          :finished=\"finished\"\n          finished-text=\"没有更多了\"\n          @load=\"onDownLoad\"\n        >\n          <div\n            v-for=\"(item, index) in instrumentList\"\n            :key=\"index\" @click=\"clickTubeInfo(item.box_num)\">\n            <div class=\"search-result-view\">\n              <div class=\"search-result-view-left\">\n                <div class=\"search-result-view-left-title\">箱码号：{{ item.box_num }}</div>\n                <div class=\"search-result-view-left-title\" style=\"color:red;\">管数：{{ item.system_sum }}</div>\n                <div class=\"search-result-view-left-title\">转运时间：{{ item.convey_time }}</div>\n                <div class=\"search-result-view-left-title\">采样点：{{ item.channel_name }}</div>\n                <div class=\"search-result-view-left-title\">接收时间：{{ item.receive_time }}</div>\n                <div class=\"search-result-view-left-title\">接收人：{{ '测试数据' }}</div>\n              </div>\n              <div class=\"search-result-view-left\">\n                <div\n                  class=\"search-result-view-left-lable\"\n                  style=\"margin-top: 0px;\"\n                  :style=\"item.is_receive == 0 ? 'color:red;': 'color:#999999;'\">{{ item.is_receive == 0 ? '转运中' : '已接收'}}</div>\n              </div>\n            </div>\n          </div>\n        </van-list>\n</van-pull-refresh>\n          \n      </div>\n      <div class=\"empty_view\"></div>\n      \n\n      <div class=\"view_bottom\">\n        <div class=\"view_bottom_left\"  @click=\"inputClick\">输入箱码号</div>\n        <div class=\"view_bottom_right\" @click=\"scanQRCodeClick\">扫描箱码号</div>\n      </div>\n    </div>\n\n    <van-dialog\n      v-model=\"isShow\"\n      :beforeClose=\"beforeClose\"\n      confirmButtonColor='#307FF5'\n    >\n    <div class=\"dialog_item\">\n        <div class=\"dialog_item_title\">箱码号信息</div>\n        <div class=\"flex-between\">\n          <div class=\"dialog_item_lable\" style=\"width:30%;text-align: end;\">箱码号：</div>\n          <div class=\"dialog_item_lable\" style=\"width:60%;\">{{bindInfo.box_num}}</div>\n        </div>\n        <div class=\"flex-between\">\n          <div class=\"dialog_item_lable\" style=\"width:30%;text-align: end;\">管数：</div>\n          <div class=\"dialog_item_lable\" style=\"width:60%;\">{{bindInfo.system_sum}}</div>\n        </div>\n        <div class=\"flex-between\">\n          <div class=\"dialog_item_lable\" style=\"width:30%;text-align: end;\">采样点：</div>\n          <div class=\"dialog_item_lable\" style=\"width:60%;\">{{bindInfo.channel_name}}</div>\n        </div>\n        <div class=\"flex-between\">\n          <div class=\"dialog_item_lable\" style=\"width:30%;text-align: end;\">状态：</div>\n          <div class=\"dialog_item_lable\" style=\"width:60%;\">{{bindInfo.is_receive == 0 ? '转运中' : '已接收'}}</div>\n        </div>\n        <div class=\"flex-between\">\n          <div class=\"dialog_item_lable\" style=\"width:30%;text-align: end;\">转运人员：</div>\n          <div class=\"dialog_item_lable\" style=\"width:60%;\">{{roleName}}</div>\n        </div>\n    </div>\n    </van-dialog>\n\n    <van-dialog\n      v-model=\"isInput\"\n      showCancelButton\n      :beforeClose=\"beforeClose1\"\n      confirmButtonColor='#307FF5'\n    >\n    <div class=\"dialog_item\">\n        <div class=\"dialog_item_title\">箱码号信息</div>\n        <div class=\"bind_main_item\">\n          <div class=\"form-item\">\n            <div class=\"icon_login_text\">箱码号：</div>\n            <div class=\"select-item input-item\">\n              <input\n                v-model=\"boxCodeNumber\"\n                type=\"text\"\n                name=\"boxCodeNumber\"\n                placeholder=\"请输入箱码号\"\n                :onkeyup=\"boxCodeNumber=boxCodeNumber.replace(/[^\\w\\.\\/]/ig,'')\"\n              />\n            </div>\n          </div>\n        </div>\n    </div>\n    </van-dialog>\n\n     <van-popup v-model=\"isShowDateTime\" round position=\"bottom\">\n     \n     <van-datetime-picker\n  v-model=\"currentDate\"\n  type=\"date\"\n  title=\"选择年月日\"\n  @cancel=\"dateTimeCancel\" \n  @confirm=\"dateTimeConfirm\"\n  :max-date=\"maxDate\"\n/>\n    </van-popup>\n\n\n  </div>\n</template>\n\n<script>\nimport Header from \"../components/header.vue\";\nimport { getJSSDKHELP,getConveyList,conveyScan,getCheckedUserId } from \"../request/api\";\nimport { Notify,Toast,List,Button,Dialog } from \"vant\";\nimport wx from 'jweixin-module';\nexport default {\n  name: \"\",\n  components: {\n    Header,\n    [Dialog.Component.name]: Dialog.Component, //Dialog.Component写成这样才生效\n    [Button.name]: Button,\n  },\n  data() {\n    return {\n      page: 1, //第几页\n      limit: 30, //每页限制\n      instrumentList: [],\n      isFocus: false,\n      loading: false,\n      finished: false,\n      refreshing: false,\n      roleId: 1,  \n      isShow: false,\n      bindInfo:'',\n      isInput: false,\n      boxCodeNumber: '',\n      roleName:'',\n      userId: '',\n      keywordValue: \"\",\n      currentDateText: '',\n      currentDate: new Date(),\n      maxDate: new Date(),\n      isShowDateTime: false,\n    };\n  },\n  activated() {\n    this.roleId = this.$route.query.id;\n    this.roleName = this.$route.query.name;\n    this.userId = this.$route.query.userId;\n    console.log(this.roleId)\n    console.log(this.roleName)\n    console.log(this.userId)\n\n    this.currentDateText = this.timeFormat1(this.currentDate);\n\n    this.page = 1;\n    this.instrumentList = [];\n    this.getCheckedUserId(1);\n  },\n  mounted() {\n    this.isWechat();\n  },\n  methods: {\n    clickPDF() {\n      this.$router.push({\n        path: \"/instrumentPDF\"\n      });\n      return;\n    },\n    getCheckedUserId(typeNumber){\n        let that = this;\n        getCheckedUserId({\n          userId: this.userId\n        }).then((res) => {\n          console.log(res)\n          if (res.data.success) {\n            if(typeNumber == 1){\n              that.getConveyList();\n            }else if(typeNumber == 2){\n              that.getScanQRCodeClick();\n            } else if (typeNumber == 3){\n              that.isInput = true;\n            }\n          } else {\n            localStorage.clear();\n            Toast(res.data.msg);\n            setTimeout(()=>{\n              that.$router.back();\n            },1200)\n          }\n        });\n    },\n    isWechat() {\n      const ua = window.navigator.userAgent.toLowerCase();\n      if (ua.match(/micromessenger/i) == 'micromessenger') {\n        // return true;\n        console.log('微信浏览器');\n        this.scanQRJssdk();\n      } else {\n        console.log('普通浏览器,请在手机微信浏览器打开此页面');\n        return false;\n      }\n    },\n    // 初始化sdk配置\n    async scanQRJssdk() {\n      // alert(`url链接:${window.location.href}`);\n\t  const u = navigator.userAgent;\n      const isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; // Android\n      const isIOS = navigator.platform.indexOf('iPhone') != -1;//ios\n       let url = '';\n      if (isAndroid) {\n        url = location.href;\n      }\n      if (isIOS) {\n        url = location.href.split('#')[0]; // hash模式下,#后面的部分如果带上ios中config会不对\n      }\n      const api = [];\n      // 'qrCode','barCode'\n      api.push('qrCode');\n      api.push('barCode');\n      // alert(url);\n      const resData = await getJSSDKHELP({ url });\t// 根据接口返回appId，timestamp等数据\n      console.log('获取微信配置结果', resData);\n      if (resData) {\n        // alert(JSON.stringify(resData.data));\n        wx.config({\n          // beta: true,\n          debug: false,\n          appId: resData.data.appId,\n          timestamp: resData.data.timestamp,\n          nonceStr: resData.data.nonceStr,\n          signature: resData.data.signature,\n          jsApiList: ['checkJsApi', 'scanQRCode']\n        });\n        wx.ready(() => {\n          wx.checkJsApi({\n            jsApiList: ['scanQRCode'],\n            success(res) {\n              console.log('aaaa', res);\n            }\n          });\n        });\n        wx.error((res) => {\n          alert(`出错了：${res.errMsg}`);// 这个地方的好处就是wx.config配置错误，会弹出窗口哪里错误，然\t\t后根据微信文档查询即可。\n        });\n      }\n    },\n   // 扫描\n   scanQRCodeClick() {\n     this.getCheckedUserId(2);\n   },\n    getScanQRCodeClick() {\t// 点击的时候调起扫一扫功能呢\n      const that = this;\n      wx.scanQRCode({\n        needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，\n        scanType: ['qrCode', 'barCode'], // 可以指定扫二维码还是一维码，默认二者都有\n        success(res) {\n          const resultStrArr = res.resultStr.split(',');\t\t\n          // 转为数组时为了避免扫描一维码是返回CODE_128,20180528前面会添加一个CODE_128所以转为数组获\t\t取最后一条就行了\n          console.log(resultStrArr[resultStrArr.length - 1]); // 输出扫码信息\n          that.result = resultStrArr[resultStrArr.length - 1];\n          let boxCodeNumber = resultStrArr[resultStrArr.length - 1];\n          if(boxCodeNumber){\n            that.getBindSearch(boxCodeNumber);\n          }\n        },\n        fail(res) {\n          console.log('err', res);\n        }\n      });\n    },\n    /**\n     * \n     */\n    getBindSearch(boxCodeNumber) {\n      let that = this;\n      conveyScan({\n        box_num: boxCodeNumber,\n        userId: this.userId\n      }).then((res) => {\n        if (res.data.success) {\n          that.bindInfo = {\n            box_num: res.data.box_num,\n            system_sum: res.data.system_sum,\n            channel_name: res.data.channel_name,\n            is_receive: res.data.is_receive,\n          }\n          that.isShow = true;\n        } else {\n            Toast(res.data.msg)\n        }\n      });\n    },\n    beforeClose(action, done) {\n      let that = this;\n      if(action === 'confirm') {\n        that.isShow = false;\n        that.page = 1;\n        that.instrumentList = [];\n        that.getCheckedUserId(1);\n        done()\n      } else if(action === 'cancel') {\n        that.bindInfo = '';\n        that.isShow = false;\n        done() //关闭\n      }\n    },\n    handleTitleBack() {\n      this.$router.back();\n    },\n    getConveyList() {\n      if (this.refreshing) {\n          this.refreshing = false;\n        }\n\n      let that = this;\n      getConveyList({\n        page: this.page,\n        limit: this.limit,\n        userId: this.userId\n      }).then((res) => {\n        if (res.data.success) {\n          let instrumentList = that.instrumentList;\n\t\t\t\t\tinstrumentList = that.page == 1 ? res.data.msg : instrumentList.concat(res.data.msg)\n\n          that.loading = false;\n\n          if(res && res.data && res.data.msg.length > 0){\n            that.page = that.page + 1;\n          }else{\n             that.finished = true;\n          }\n          \n          that.instrumentList = instrumentList;\n        } else {\n            Toast(res.data.msg)\n        }\n      });\n    },\n    changeInput() {\n      //单击搜索框时获取焦点\n      this.isFocus = true;\n    },\n    clearSearchValue() {\n      //清空输入的查询条件\n      if (this.keywordValue) {\n        this.keywordValue = \"\"; //搜索关键字\n        this.page = 1;\n        this.instrumentList = [];\n        this.getCheckedUserId(1);\n        this.$refs.searchInput.focus(); //输入查询条件清空后获取焦点\n      }\n    },\n    clickSearch() {\n      //查询\n      if (event.code == \"ArrowDown\" || event.code == \"ArrowUp\") {\n        //上下键\n        return;\n      }\n      // if (this.keywordValue.trim()) {\n            this.page = 1;\n            this.instrumentList = [];\n            this.getCheckedUserId(1);\n      // } else {\n        this.$refs.searchInput.focus(); //没有输入查询条件焦点不应该失去\n      // }\n    },\n    onDownLoad(){\n      console.log(this.page)\n      if(this.page > 1){\n        this.getCheckedUserId(1);\n      }\n    },\n    onRefresh(){\n      // 清空列表数据\n      this.finished = false;\n      this.page = 1;\n      this.instrumentList = [];\n      // 重新加载数据\n      // 将 loading 设置为 true，表示处于加载状态\n      this.loading = true;\n      this.getCheckedUserId(1);\n    },\n    inputClick(){\n      this.getCheckedUserId(3);\n    },\n    beforeClose1(action, done) {\n      let that = this;\n      \n        if(action === 'confirm') {\n          if(that.boxCodeNumber){\n            conveyScan({\n              box_num: that.boxCodeNumber,\n              userId: this.userId\n            }).then((res) => {\n              if (res.data.success) {\n                that.isInput = false;\n                that.boxCodeNumber = \"\";\n                done();\n\n                that.bindInfo = {\n                  box_num: res.data.box_num,\n                  system_sum: res.data.system_sum,\n                  channel_name: res.data.channel_name,\n                  is_receive: res.data.is_receive,\n                }\n                that.isShow = true;\n              } else {\n                  Toast(res.data.msg)\n                  return done(false);//阻止关闭\n              }\n            });\n          }else{\n            Toast('请输入箱码号')\n            return done(false);//阻止关闭\n          }\n        } else if(action === 'cancel') {\n          that.bindInfo = '';\n          that.boxCodeNumber = \"\";\n          that.isInput = false;\n          done() //关闭\n        }\n      \n    },\n    onSearch() {\n        console.log(this.keywordValue)\n        \n        this.page = 1;\n        this.instrumentList = [];\n        this.getCheckedUserId(1);\n    },\n    clickDateTime(){\n      this.isShowDateTime = true;\n    },\n    dateTimeCancel(){\n      this.isShowDateTime = false;\n    },\n    dateTimeConfirm(){\n      this.currentDateText = this.timeFormat1(this.currentDate);\n      console.log(this.currentDateText)\n      this.isShowDateTime = false;\n\n      this.page = 1;\n      this.instrumentList = [];\n      this.getCheckedUserId(1);\n    },\n    timeFormat1(time) { // 时间格式化 2019-09-08\n     let year = time.getFullYear();\n     let month = time.getMonth() + 1;\n      if(month<10){\n        month = '0'+month;\n      }\n     let day = time.getDate();\n      if(day<10){\n        day = '0'+day;\n      }\n\n    return year + '-' + month + '-' + day + '';\n     },\n    clickWait(){\n      this.$router.push({\n                path: \"/waitDistribution\",\n                query:{id: this.roleId,name: this.roleName,userId: this.userId}\n            });\n    },\n    clickTubeInfo(boxnum){\n      console.log('---->:',boxnum)\n      this.$router.push({\n        path: \"/tubeInfo\",\n        query:{id: this.roleId,name: this.roleName,userId: this.userId,boxnum: boxnum}\n      });\n    }\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.icon_logo {\n  width: 40px;\n  height: 40px;\n}\n\n.main {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  // padding-top: 30px;\n}\n\n.flex-between{\n  display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 90%;\n}\n\n.bind_main_item {\n  // width: 670px;\n  background: #ffffff;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  // align-items: center;\n  // margin-top: 40px;\n  padding: 30px;\n\n  .form-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    // margin-top: 15px;\n\n    .icon_login_text{\n      width: 30%;\n    }\n\n    input {\n      // margin-top: 5px;\n      width: 100%;\n      outline: none;\n      border: 1px solod #DDDDDD;\n      line-height: 35px;\n      background-color: #eee;\n      border-radius: 5px;\n      padding-left: 0px;\n    }\n    .select-item {\n      // display: flex;\n      // align-items: center;\n      // width: 100%;\n      \n    }\n\n    .input-item {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      input {\n        width: 420px;\n         height: 80px;\n        background: #ffffff;\n        border-radius: 12px;\n        border: 1px solid #DDDDDD;\n        outline: none;\n        font-size: 28px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #999999;\n        padding-left: 20px;\n      }\n\n      .icon_scan {\n        width: 40px;\n        height: 40px;\n      }\n    }\n  }\n}\n\n\n.submit_view {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  //   margin-top: 20px;\n  width: 90%;\n  height: 88px;\n  background: #307ff5;\n  border-radius: 12px;\n  color: #ffffff;\n  font-size: 32px;\n}\n\n.empty_view{\n  height: 150px;\n  width: 100%;\n}\n\n.view_bottom {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 100%;\n  position: fixed;\n  bottom: 0px;\n  z-index: 20;\n  height: 120px;\n  background: #FFFFFF;\n}\n\n.view_bottom_left {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 326px;\n  height: 88px;\n  background: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #307ff5;\n  font-size: 34px;\n  color: #307ff5;\n}\n\n.view_bottom_right {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 326px;\n  height: 88px;\n  background: #307ff5;\n  border-radius: 12px;\n  border: 1px solid #307ff5;\n  font-size: 34px;\n  color: #ffffff;\n}\n\n.view_bottom_left_1 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 200px;\n  height: 88px;\n  background: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #307ff5;\n  font-size: 34px;\n  color: #307ff5;\n}\n\n.view_bottom_right_1 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 200px;\n  height: 88px;\n  background: #307ff5;\n  border-radius: 12px;\n  border: 1px solid #307ff5;\n  font-size: 34px;\n  color: #ffffff;\n}\n\n.item_center{\n  font-size: 32px;\n  padding: 20px 40px 20px 0px;\n  color: #307ff5;\n}\n\n.item_center_new{\n  font-size: 32px;\n  padding: 0px 0px 0px 30px;\n  color: #307ff5;\n}\n\n.search-list-role{\n  // height: 1110px;\n  border: 0 none;\n  background-color: #fff;\n  width: 100%;\n  padding: 0px 40px;\n  // .search-result {\n  //   height: 100%;\n  //   overflow-x: hidden;\n  //   overflow-y: auto;\n\n    .search-result-view {\n      display: flex;\n      //   align-items: center;\n      justify-content: space-between;\n      padding: 30px 0px;\n      border-bottom: 1px solid #dddddd;\n\n      .search-result-view-left {\n        display: flex;\n        flex-direction: column;\n\n        .search-result-view-left-title {\n          font-size: 34px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          color: #333333;\n        }\n\n        .search-result-view-left-lable {\n          font-size: 28px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          color: #999999;\n          margin-top: 20px;\n        }\n      }\n    }\n\n    .result-null {\n      margin-top: 100px;\n      text-align: center;\n      font-size: 40px;\n    }\n  // }\n}\n\n.search-list {\n  height: 960px;\n  border: 0 none;\n  background-color: #fff;\n  width: 100%;\n  padding: 0px 40px;\n  .search-result {\n    height: 100%;\n    overflow-x: hidden;\n    overflow-y: auto;\n\n    .search-result-view {\n      display: flex;\n      //   align-items: center;\n      justify-content: space-between;\n      padding: 30px 0px;\n      border-bottom: 1px solid #dddddd;\n\n      .search-result-view-left {\n        display: flex;\n        flex-direction: column;\n\n        .search-result-view-left-title {\n          font-size: 34px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          color: #333333;\n        }\n\n        .search-result-view-left-lable {\n          font-size: 28px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          color: #999999;\n          margin-top: 20px;\n        }\n      }\n    }\n\n    .result-null {\n      margin-top: 100px;\n      text-align: center;\n      font-size: 40px;\n    }\n  }\n}\n\n.search-result-view-right{\n  width: 40px;\n  height: 40px;\n}\n\n.dialog_item{\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      padding: 50px 0px;\n    }\n\n    .dialog_item_title{\n      font-size: 36px;\n      color: #333333;\n    }\n\n    .dialog_item_lable{\n      font-size: 28px;\n      color: #666666;\n      margin-top: 10px;\n    }\n\n::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n/*滑动轨道*/\n::-webkit-scrollbar-track-piece {\n  background-color: transparent;\n  -webkit-border-radius: 6px;\n}\n// 下面是滑块\n/*竖向滚动条*/\n::-webkit-scrollbar-thumb:vertical {\n  height: 5px;\n  background-color: #ffffff;\n  -webkit-border-radius: 6px;\n}\n/*横向滚动条*/\n::-webkit-scrollbar-thumb:horizontal {\n  width: 5px;\n  background-color: #ffffff;\n  -webkit-border-radius: 6px;\n}\n\n.dis_setting_view{\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 30px 0px 30px;\n}\n\n.van-search{\n    width: 100% !important;\n    padding: 10px 0px;\n  }\n\n  /**\n  *\n   */\n\n   .dis_item_center{\n  width: 100%;\n      display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background: #FFFFFF;\n}\n\n.dis_item_center_1{\n  display: flex;\n  padding: 20px 30px;\n  align-items: center;\n  justify-content: center;\n}\n.dis_item_center_2{\n  font-size: 28px;\n}\n\n.seach-form-item {\n  display: flex;\n    height: 88px;\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    background: #f5f5f5;\n    width: 90%;\n\n  input {\n    width: 40%;\n    height: 80px;\n    background: #f5f5f5;\n    border-radius: 12px;\n    border: none;\n    outline: none;\n    font-size: 28px;\n    font-weight: 400;\n    color: #999999;\n    // padding: 0px 25px;\n  }\n}\n</style>"]}]}