(function(e){function t(t){for(var s,o,c=t[0],r=t[1],l=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,c=1;c<a.length;c++){var r=a[c];0!==n[r]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},i=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=r;i.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"032d":function(e,t,a){},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},3:function(e,t){},4:function(e,t){},"44fd":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc10","./be.js":"1fc10","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="4678"},"47f4":function(e,t,a){},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("keep-alive",[a("router-view")],1)],1)},i=[],o={name:"App",components:{}},c=o,r=a("0c7c"),l=Object(r["a"])(c,n,i,!1,null,null,null),u=l.exports,d=a("b970"),f=a("3c69"),m=a("9145"),h=a.n(m),b=a("8c18"),p=a("8c4f"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[e.isShowWechat?a("div",[e._m(0),a("div",{staticClass:"main"},[a("div",{staticClass:"form-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"tel",name:"phone",oninput:e.phone=e.phone.length>11?e.phone.slice(0,11):e.phone,placeholder:"请输入手机号码"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),a("div",{staticClass:"form-item",staticStyle:{"margin-top":"20px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:"请输入姓名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("van-button",{staticClass:"submit_view",attrs:{block:"",type:"info"},on:{click:e.commit}},[e._v("登录")])],1)]):a("div",{staticClass:"login-section"},[a("div",{staticClass:"icon_login_content"},[e._v("普通浏览器,请在手机微信浏览器打开此页面")])])])},v=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"root_header"},[s("img",{staticClass:"icon_logo",attrs:{src:a("9c1d"),alt:""}}),s("div",{staticClass:"icon_login_text"},[e._v("样本箱转运系统")])])}],j=(a("ac1f"),a("841c"),a("1276"),a("466d"),a("00b4"),a("d3b7"),a("5319"),a("bc3a")),_=a.n(j),C=a("f564");_.a.defaults.baseURL="/",_.a.defaults.timeout=6e4,_.a.defaults.crewithdentials=!0,_.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.error(e)})),_.a.interceptors.response.use((function(e){var t=e.status;if(200===t)return Promise.resolve(e);401===t||403===t?(Object(C["a"])({type:"primary",message:e.data.msg}),Qe.replace({path:"/login"})):Object(C["a"])({type:"primary",message:e.data.msg})}),(function(e){console.log("error",e)}));var x=a("ade3"),y=a("4328"),w=a.n(y),k=(_.a.create({crewithdentials:!0,timeout:1e4,baseURL:"https://api-cn.faceplusplus.com/imagepp/v2/generalocr"}),_.a.create({crewithdentials:!0,timeout:1e4,baseURL:"/lis_alarm"}));_.a.interceptors.request.use((function(e){return"post"===e.method&&(e.data&&!e.data.i?e.headers["Content-Type"]="multipart/form-data":e.data=Qs.stringify(e.data)),e}),(function(e){return Promise.reject(e)}));var N,I,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return k(Object(x["a"])({url:e,method:a},"get"===a?"params":"data","get"===a?t:w.a.stringify(t)))},S=function(e){return O("/conveyLogin/JSSDKHELP.hn",e,"get")},L=function(e){return O("/conveyLogin/login.hn",e,"get")},R=function(e){return O("/conveyLogin/autoLogin.hn",e,"get")},P=function(e){return O("/conveyLogin/getConveyList.hn",e,"get")},U=function(e){return O("/conveyLogin/conveyScan.hn",e,"get")},$=function(e){return O("/conveyLogin/isDelete.hn",e,"get")},z=function(e){return O("/conveyLogin/checkboxnum.hn",e,"get")},D=function(e){return O("/conveyLogin/channellist.hn",e,"get")},T=function(e){return O("/conveyLogin/submitDRboxnum.hn",e,"get")},q=a("d399"),A={name:"",components:{},data:function(){return{code:"",phone:"",codeRestTime:0,restTime:60,phoneCode:["",""],phoneSub:"",codeSub:"",isShowWechat:!0,wxcode:"",username:"",openid:""}},activated:function(){},mounted:function(){this.isWechat()},methods:{getUrlCode:function(){var e=location.search,t=new Object;if(-1!=e.indexOf("?"))for(var a=e.substr(1),s=a.split("&"),n=0;n<s.length;n++)t[s[n].split("=")[0]]=s[n].split("=")[1];return console.log(t),t},isWechat:function(){var e=window.navigator.userAgent.toLowerCase();if("micromessenger"==e.match(/micromessenger/i)){console.log("微信浏览器"),this.isShowWechat=!0;var t="wx838527cc11066732",a=this.getUrlCode().code,s=window.location.href;return null==a||""===a?window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+encodeURIComponent(s)+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect":(this.wxcode=a,this.getAutoLogin()),!0}return this.isShowWechat=!1,console.log("普通浏览器,请在手机微信浏览器打开此页面"),!1},checkPhone:function(e){var t=/^1\d{10}$/;return 11==e.length&&!!t.test(e)},btnClick:function(){var e=this,t=this;if(""==this.phone)Object(q["a"])("请填写手机号");else if(this.checkPhone(this.phone)){this.codeRestTime=this.restTime;var a=setInterval((function(){--e.codeRestTime,e.codeRestTime||(clearInterval(a),a=null)}),1e3);getVerification({phone:this.phone}).then((function(e){e.data.success?(console.log(e.data.msg),t.phoneSub=e.data.phone,t.codeSub=e.data.msg):Object(q["a"])(e.data.msg)}))}else Object(q["a"])("手机号有误")},commit:function(){var e=this;""!=this.phone?this.checkPhone(this.phone)?""!=this.username?L({openid:this.openid,user_phone:this.phone,user_name:this.username}).then((function(t){console.log(t),t.data.success?(Object(q["a"])(t.data.msg),e.$router.push({path:"/instrumentList",query:{name:e.username,userId:t.data.userId}})):Object(q["a"])(t.data.msg)})):Object(q["a"])("请输入姓名"):Object(q["a"])("手机号有误"):Object(q["a"])("请填写手机号")},getAutoLogin:function(){var e=this;R({code:this.wxcode}).then((function(t){console.log(t),t.data.success?200==t.data.code?(e.openid=t.data.openid,Object(q["a"])(t.data.msg),e.$router.push({path:"/instrumentList",query:{name:t.data.user_name,userId:t.data.userId}})):(e.openid=t.data.openid,Object(q["a"])(t.data.msg)):Object(q["a"])(t.data.msg)}))}}},F=A,E=(a("8c60"),Object(r["a"])(F,g,v,!1,null,"2a6ed0c4",null)),B=E.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page404"},[a("van-empty",{attrs:{description:"找遍全世界也没找到该页面"}}),a("van-button",{staticClass:"back-bth",attrs:{type:"default",plain:"",round:""},on:{click:e.back}},[e._v("返回")])],1)},W=[],J={name:"",components:{},data:function(){return{}},methods:{back:function(){this.$router.back()}}},M=J,H=(a("cc13"),Object(r["a"])(M,Q,W,!1,null,"422d9ff0",null)),K=H.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"child-section"},[a("div",{staticClass:"main"},[a("div",{staticClass:"item_center",on:{click:function(t){return t.stopPropagation(),e.clickPDF.apply(null,arguments)}}},[e._v("样本箱转运系统使用说明")]),a("div",{staticClass:"search-list-role"},[a("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[a("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onDownLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.instrumentList,(function(t,s){return a("div",{key:s},[a("div",{staticClass:"search-result-view"},[a("div",{staticClass:"search-result-view-left",staticStyle:{width:"100%"}},[a("div",{staticClass:"new-display"},[a("div",{staticClass:"search-result-view-left-title"},[e._v("箱码号："+e._s(t.box_num))]),a("div",{staticClass:"search-result-view-left-lable",staticStyle:{"margin-top":"0px"},style:0==t.is_receive?"color:red;":"color:#999999;"},[e._v(e._s(0==t.is_receive?"转运中":"已接收"))])]),a("div",{staticClass:"search-result-view-left-title",staticStyle:{color:"red"}},[e._v("管数："+e._s(t.system_sum))]),a("div",{staticClass:"search-result-view-left-title"},[e._v("转运时间："+e._s(t.convey_time))]),a("div",{staticClass:"search-result-view-left-title"},[e._v("采样点："+e._s(t.channel_name))])])])])})),0)],1)],1),a("div",{staticClass:"empty_view"}),a("div",{staticClass:"view_bottom"},[a("div",{staticClass:"view_bottom_left",on:{click:e.inputClick}},[e._v("输入箱码号")]),a("div",{staticClass:"view_bottom_right",on:{click:e.scanQRCodeClick}},[e._v("扫描箱码号")])])]),a("van-dialog",{attrs:{beforeClose:e.beforeClose,confirmButtonColor:"#307FF5"},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("div",{staticClass:"dialog_item"},[a("div",{staticClass:"dialog_item_title"},[e._v("箱码号信息")]),a("div",{staticClass:"flex-between"},[a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"30%","text-align":"end"}},[e._v("箱码号：")]),a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"60%"}},[e._v(e._s(e.bindInfo.box_num))])]),a("div",{staticClass:"flex-between"},[a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"30%","text-align":"end"}},[e._v("管数：")]),a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"60%"}},[e._v(e._s(e.bindInfo.system_sum))])]),a("div",{staticClass:"flex-between"},[a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"30%","text-align":"end"}},[e._v("采样点：")]),a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"60%"}},[e._v(e._s(e.bindInfo.channel_name))])]),a("div",{staticClass:"flex-between"},[a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"30%","text-align":"end"}},[e._v("状态：")]),a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"60%"}},[e._v(e._s(0==e.bindInfo.is_receive?"转运中":"已接收"))])]),a("div",{staticClass:"flex-between"},[a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"30%","text-align":"end"}},[e._v("转运人员：")]),a("div",{staticClass:"dialog_item_lable",staticStyle:{width:"60%"}},[e._v(e._s(e.roleName))])])])]),a("van-dialog",{attrs:{showCancelButton:"",beforeClose:e.beforeClose1,confirmButtonColor:"#307FF5"},model:{value:e.isInput,callback:function(t){e.isInput=t},expression:"isInput"}},[a("div",{staticClass:"dialog_item"},[a("div",{staticClass:"dialog_item_title"},[e._v("箱码号信息")]),a("div",{staticClass:"bind_main_item"},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"icon_login_text",staticStyle:{width:"64px"}},[e._v("箱码号：")]),a("div",{staticClass:"select-item input-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.boxCodeNumber,expression:"boxCodeNumber"}],attrs:{type:"text",name:"boxCodeNumber",placeholder:"请输入箱码号",onkeyup:e.boxCodeNumber=e.boxCodeNumber.replace(/[^\w\.\/]/gi,"")},domProps:{value:e.boxCodeNumber},on:{input:function(t){t.target.composing||(e.boxCodeNumber=t.target.value)}}})])])])])]),a("van-dialog",{attrs:{showCancelButton:"",beforeClose:e.beforeCloseDR,confirmButtonColor:"#307FF5"},model:{value:e.isDialogDR,callback:function(t){e.isDialogDR=t},expression:"isDialogDR"}},[a("div",{staticClass:"dialog_item"},[a("div",{staticClass:"dialog_item_title"},[e._v("东软箱码号信息")]),a("div",{staticClass:"bind_main_item"},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"icon_login_text",staticStyle:{width:"64px"}},[e._v("箱码号：")]),a("div",{staticClass:"select-item input-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.boxCodeNumber,expression:"boxCodeNumber"}],attrs:{type:"text",name:"boxCodeNumber",placeholder:"请输入箱码号",onkeyup:e.boxCodeNumber=e.boxCodeNumber.replace(/[^\w\.\/]/gi,"")},domProps:{value:e.boxCodeNumber},on:{input:function(t){t.target.composing||(e.boxCodeNumber=t.target.value)}}})])]),a("div",{staticClass:"form-item",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"icon_login_text",staticStyle:{width:"64px"}},[e._v("区域：")]),a("div",{staticClass:"select-item input-item"},[a("el-select",{attrs:{"popper-class":"ovo",placeholder:"请选择采样点区域"},on:{"visible-change":e.ts,change:e.selectAreaChange},model:{value:e.areaId,callback:function(t){e.areaId=t},expression:"areaId"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e}})})),1)],1)]),a("div",{staticClass:"form-item",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"icon_login_text",staticStyle:{width:"64px"}},[e._v("采样点：")]),a("div",{staticClass:"select-item input-item"},[a("el-select",{attrs:{"popper-class":"ovo",placeholder:"请选择采样点"},on:{"visible-change":e.ts,focus:e.selectFocus,change:e.selectChange},model:{value:e.prequalificationUserId,callback:function(t){e.prequalificationUserId=t},expression:"prequalificationUserId"}},e._l(e.channelList,(function(e){return a("el-option",{key:e.channel_id,attrs:{label:e.channel_name,value:e.channel_id}})})),1)],1)]),a("div",{staticClass:"form-item",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"icon_login_text",staticStyle:{width:"64px"}},[e._v("试管数：")]),a("div",{staticClass:"select-item input-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.boxNumber,expression:"boxNumber"}],attrs:{type:"text",name:"boxNumber",placeholder:"请输入试管数",onkeyup:e.boxNumber=e.boxNumber.replace(/[^\w\.\/]/gi,"")},domProps:{value:e.boxNumber},on:{input:function(t){t.target.composing||(e.boxNumber=t.target.value)}}})])])])])])],1)},G=[],X=a("1da1"),Y=a("b85c"),Z=(a("96cf"),a("b0c0"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-bg"},[e._t("default")],2)])}),ee=[],te={},ae=te,se=(a("9586"),Object(r["a"])(ae,Z,ee,!1,null,"67c9505c",null)),ne=se.exports,ie=a("2241"),oe=a("b650"),ce=a("ce40"),re=a.n(ce),le={name:"",components:(N={Header:ne},Object(x["a"])(N,ie["a"].Component.name,ie["a"].Component),Object(x["a"])(N,oe["a"].name,oe["a"]),N),data:function(){return{page:1,limit:30,instrumentList:[],isFocus:!1,loading:!1,finished:!1,refreshing:!1,isShow:!1,bindInfo:"",isInput:!1,boxCodeNumber:"",roleName:"",userId:"",isDialogDR:!1,boxNumber:"",prequalificationUserId:"",prequalificationList:[],areaId:"",channelList:[],value:[],options:[]}},activated:function(){this.roleName=this.$route.query.name,this.userId=this.$route.query.userId,console.log(this.roleName),console.log(this.userId),this.page=1,this.instrumentList=[],this.getCheckedUserId(1)},mounted:function(){this.isWechat(),this.getChannelListFunc()},methods:{ts:function(e){e&&setTimeout((function(){var t,a=Object(Y["a"])(document.getElementsByClassName("ovo"));try{for(a.s();!(t=a.n()).done;)e=t.value,e.style.zIndex=9999}catch(s){a.e(s)}finally{a.f()}}),100)},handleChange:function(e){console.log(e)},clickPDF:function(){this.$router.push({path:"/instrumentPDF"})},getCheckedUserId:function(e){var t=this;$({userId:this.userId}).then((function(a){console.log(a),a.data.success?1==e?t.getConveyList():2==e?t.getScanQRCodeClick():3==e&&(t.isInput=!0):(localStorage.clear(),Object(q["a"])(a.data.msg),setTimeout((function(){t.$router.back()}),1200))}))},isWechat:function(){var e=window.navigator.userAgent.toLowerCase();if("micromessenger"!=e.match(/micromessenger/i))return console.log("普通浏览器,请在手机微信浏览器打开此页面"),!1;console.log("微信浏览器"),this.scanQRJssdk()},scanQRJssdk:function(){return Object(X["a"])(regeneratorRuntime.mark((function e(){var t,a,s,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=navigator.userAgent,a=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,s=-1!=navigator.platform.indexOf("iPhone"),n="",a&&(n=location.href),s&&(n=location.href.split("#")[0]),i=[],i.push("qrCode"),i.push("barCode"),e.next=11,S({url:n});case 11:o=e.sent,console.log("获取微信配置结果",o),o&&(re.a.config({debug:!1,appId:o.data.appId,timestamp:o.data.timestamp,nonceStr:o.data.nonceStr,signature:o.data.signature,jsApiList:["checkJsApi","scanQRCode"]}),re.a.ready((function(){re.a.checkJsApi({jsApiList:["scanQRCode"],success:function(e){console.log("aaaa",e)}})})),re.a.error((function(e){alert("出错了：".concat(e.errMsg))})));case 14:case"end":return e.stop()}}),e)})))()},scanQRCodeClick:function(){this.getCheckedUserId(2)},getScanQRCodeClick:function(){var e=this;re.a.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){var a=t.resultStr.split(",");console.log(a[a.length-1]),e.result=a[a.length-1];var s=a[a.length-1];s&&e.getBindSearch(s)},fail:function(e){console.log("err",e)}})},getBindSearch:function(e){var t=this;z({box_num:e}).then((function(a){a.data.success?(t.boxCodeNumber=e,1==a.data.isCoyote?t.setonveyScan(e):t.isDialogDR=!0):Object(q["a"])(a.data.msg)}))},setonveyScan:function(e){var t=this;U({box_num:e,userId:this.userId}).then((function(e){e.data.success?(t.boxCodeNumber="",t.bindInfo={box_num:e.data.box_num,system_sum:e.data.system_sum,channel_name:e.data.channel_name,is_receive:e.data.is_receive},t.isShow=!0):Object(q["a"])(e.data.msg)}))},beforeClose:function(e,t){var a=this;"confirm"===e?(a.isShow=!1,a.page=1,a.instrumentList=[],a.getCheckedUserId(1),t()):"cancel"===e&&(a.bindInfo="",a.isShow=!1,t())},handleTitleBack:function(){this.$router.back()},getConveyList:function(){this.refreshing&&(this.refreshing=!1);var e=this;P({page:this.page,limit:this.limit,userId:this.userId}).then((function(t){if(t.data.success){var a=e.instrumentList;a=1==e.page?t.data.msg:a.concat(t.data.msg),e.loading=!1,t&&t.data&&t.data.msg.length>0?e.page=e.page+1:e.finished=!0,e.instrumentList=a}else Object(q["a"])(t.data.msg)}))},onDownLoad:function(){console.log(this.page),this.page>1&&this.getCheckedUserId(1)},onRefresh:function(){this.finished=!1,this.page=1,this.instrumentList=[],this.loading=!0,this.getCheckedUserId(1)},inputClick:function(){this.getCheckedUserId(3)},beforeClose1:function(e,t){var a=this;if("confirm"===e){if(!a.boxCodeNumber)return Object(q["a"])("请输入箱码号"),t(!1);z({box_num:a.boxCodeNumber}).then((function(e){return e.data.success?1!=e.data.isCoyote?(a.isInput=!1,a.isDialogDR=!0,t()):void U({box_num:a.boxCodeNumber,userId:a.userId}).then((function(e){if(!e.data.success)return Object(q["a"])(e.data.msg),t(!1);a.isInput=!1,a.boxCodeNumber="",t(),a.bindInfo={box_num:e.data.box_num,system_sum:e.data.system_sum,channel_name:e.data.channel_name,is_receive:e.data.is_receive},a.isShow=!0})):(Object(q["a"])(e.data.msg),t(!1))}))}else"cancel"===e&&(a.bindInfo="",a.boxCodeNumber="",a.isInput=!1,t())},getChannelListFunc:function(){var e=this;D({}).then((function(t){t.data.success?(e.options=t.data.channelList,e.$forceUpdate()):Object(q["a"])(t.data.msg)}))},beforeCloseDR:function(e,t){var a=this;if("confirm"===e){if(!a.boxCodeNumber)return Object(q["a"])("请输入箱码号"),t(!1);var s=/^\+?[0-9][0-9]*$/;if(!s.test(a.boxCodeNumber))return Object(q["a"])("箱码号只能为数字"),t(!1);if(a.boxCodeNumber.length>10)return Object(q["a"])("箱码号最多10位数"),t(!1);if(!a.areaId)return Object(q["a"])("请选择采样点区域"),t(!1);if(!a.prequalificationUserId)return Object(q["a"])("请选择采样点"),t(!1);if(!a.boxNumber)return Object(q["a"])("请输入试管数"),t(!1);var n=/^\+?[0-9][0-9]*$/;if(!n.test(a.boxNumber))return Object(q["a"])("试管数只能为数字"),t(!1);if(a.boxNumber.length>3)return Object(q["a"])("试管数最多3位数"),t(!1);var i={box_num:a.boxCodeNumber,userId:a.userId,sampleNumber:a.boxNumber,channel_id:a.prequalificationUserId};console.log(i),T(i).then((function(e){if(!e.data.success)return Object(q["a"])(e.data.msg),t(!1);a.isDialogDR=!1,a.boxCodeNumber="",a.boxNumber="",a.prequalificationUserId="",a.areaId="",t(),a.bindInfo={box_num:e.data.box_num,system_sum:e.data.system_sum,channel_name:e.data.channel_name,is_receive:e.data.is_receive},a.isShow=!0}))}else"cancel"===e&&(a.bindInfo="",a.boxCodeNumber="",a.boxNumber="",a.prequalificationUserId="",a.areaId="",a.isDialogDR=!1,t())},selectBlur:function(e){""!==e.target.value&&(this.channel_id=e.target.value,this.$forceUpdate())},selectFocus:function(e){this.areaId||Object(q["a"])("请先选择采样点区域")},selectClear:function(){this.channel_id="",this.$forceUpdate()},selectChange:function(e){this.prequalificationUserId=e,this.$forceUpdate()},selectAreaChange:function(e){this.areaId=e.label,this.channelList=e.children,this.prequalificationUserId="",this.$forceUpdate()}}},ue=le,de=(a("8318"),Object(r["a"])(ue,V,G,!1,null,"49db0588",null)),fe=de.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"child-section"},[a("Header",[a("div",{staticClass:"header-content"},[a("div",{staticClass:"header-title"},[e._v("操作指南")]),a("div",{staticClass:"header-back"},[a("div",{staticClass:"back",on:{click:e.handleTitleBack}},[a("i",{staticClass:"iconfont icon-arrowthin",staticStyle:{color:"#999999"}})])])])]),a("div",[a("div",{staticClass:"tools"},[a("van-button",{attrs:{size:"small",type:"primary",title:"基础按钮"},on:{click:function(t){return t.stopPropagation(),e.prePage.apply(null,arguments)}}},[e._v(" 上一页")]),a("div",{staticClass:"page"},[e._v(e._s(e.pageNum)+"/"+e._s(e.pageTotalNum))]),a("van-button",{attrs:{size:"small",type:"primary",title:"基础按钮"},on:{click:function(t){return t.stopPropagation(),e.nextPage.apply(null,arguments)}}},[e._v(" 下一页")])],1),a("pdf",{ref:"pdf",attrs:{src:e.url,page:e.pageNum,rotate:e.pageRotate},on:{progress:function(t){e.loadedRatio=t},"page-loaded":function(t){return e.pageLoaded(t)},"num-pages":function(t){e.pageTotalNum=t},error:function(t){return e.pdfError(t)},"link-clicked":function(t){e.page=t}}})],1)],1)},he=[],be=a("858e"),pe={name:"",components:(I={pdf:be["a"]},Object(x["a"])(I,oe["a"].name,oe["a"]),Object(x["a"])(I,"Header",ne),I),data:function(){return{url:"",pageNum:1,pageTotalNum:1,pageRotate:0,loadedRatio:0,curPageNum:0}},activated:function(){this.url="/stores.pdf"},mounted:function(){},methods:{handleTitleBack:function(){this.$router.back()},prePage:function(){var e=this.pageNum;e=e>1?e-1:this.pageTotalNum,this.pageNum=e},nextPage:function(){var e=this.pageNum;e=e<this.pageTotalNum?e+1:1,this.pageNum=e},clock:function(){this.pageRotate+=90},counterClock:function(){this.pageRotate-=90},pageLoaded:function(e){this.curPageNum=e},pdfError:function(e){console.error(e)},pdfPrintAll:function(){this.$refs.pdf.print()},pdfPrint:function(){this.$refs.pdf.print(100,[1,2])},getNumPages:function(e){var t=this,a=be["a"].createLoadingTask(e);a.then((function(e){t.url=a,t.numPages=e.numPages})).catch((function(e){console.error("pdf加载失败")}))}}},ge=pe,ve=(a("963e"),Object(r["a"])(ge,me,he,!1,null,"69b30448",null)),je=ve.exports,_e=[{path:"/login",component:B},{path:"/instrumentList",component:fe},{path:"/instrumentPDF",component:je},{path:"/",component:B},{path:"*",component:K}],Ce=_e,xe=a("2f62"),ye=a("0e44"),we={token:null},ke={setToken:function(e,t){e.token=t},clearToken:function(e){e.token=null}},Ne={},Ie={},Oe={state:we,mutations:ke,actions:Ne,getters:Ie},Se={active:"index"},Le={changeTabActive:function(e,t){e.active=t}},Re={},Pe={},Ue={state:Se,mutations:Le,actions:Re,getters:Pe};s["default"].use(xe["a"]);var $e={},ze={},De={},Te={},qe={login:Oe,home:Ue},Ae=new xe["a"].Store({state:$e,mutations:ze,actions:De,getters:Te,modules:qe,plugins:[Object(ye["a"])({storage:window.sessionStorage})]}),Fe=Ae,Ee=p["a"].prototype.push;p["a"].prototype.push=function(e){return Ee.call(this,e).catch((function(e){return e}))},s["default"].use(p["a"]);var Be=new p["a"]({routes:Ce});Be.beforeEach((function(e,t,a){console.log(t),Fe.commit("changeTabActive",e.path),a()}));var Qe=Be,We=(a("499a"),a("5c96")),Je=a.n(We),Me=(a("0fae"),a("c1df")),He=a.n(Me),Ke=a("2ef0"),Ve=a.n(Ke),Ge=(a("157a"),a("a0f0"),a("9d60"),a("be35"),a("44fd"),a("3a34")),Xe=a.n(Ge),Ye=a("58e6");s["default"].prototype.$vconsole=Xe.a,s["default"].config.productionTip=!1,s["default"].prototype.$moment=He.a,s["default"].prototype.$lodash=Ve.a,s["default"].use(d["a"]),f["a"].use("zh-CN",b["a"]),s["default"].use(Je.a),s["default"].use(h.a),s["default"].use(Ye["a"]),new s["default"]({router:Qe,store:Fe,render:function(e){return e(u)}}).$mount("#app")},6:function(e,t){},"7feb":function(e,t,a){},8318:function(e,t,a){"use strict";a("f0f9")},"8c60":function(e,t,a){"use strict";a("032d")},9586:function(e,t,a){"use strict";a("a544")},"963e":function(e,t,a){"use strict";a("47f4")},"9c1d":function(e,t,a){e.exports=a.p+"img/icon_logo.798a0bfe.png"},"9d60":function(e,t,a){},a544:function(e,t,a){},be35:function(e,t,a){},cc13:function(e,t,a){"use strict";a("7feb")},f0f9:function(e,t,a){}});
//# sourceMappingURL=app.5402bdbc.js.map